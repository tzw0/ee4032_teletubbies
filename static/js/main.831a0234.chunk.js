(this.webpackJsonpteletubbies=this.webpackJsonpteletubbies||[]).push([[0],{304:function(e,t,n){},306:function(e,t,n){},307:function(e,t,n){},318:function(e,t,n){},330:function(e,t){},353:function(e,t){},355:function(e,t){},431:function(e,t){},433:function(e,t){},465:function(e,t){},470:function(e,t){},472:function(e,t){},479:function(e,t){},492:function(e,t){},510:function(e,t){},517:function(e,t){},519:function(e,t){},592:function(e,t,n){},593:function(e,t,n){},594:function(e,t,n){},595:function(e,t,n){},596:function(e,t,n){},597:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(24),i=n.n(s),c=(n(303),n(304),n(74)),u=n(34),o=n(13),d=n.n(o),l=n(27),p=n(21),j=(n(306),n(53)),m=n(25),y=n(283),b=(n(307),"#FE794E"),h="rgba(118, 3, 153, 0.5)",O="rgb(118, 3, 153)",x="white",f="black",v="white",g=n(128),_=n.n(g),C=n(94),T=n.n(C),w=n(266),N=n.n(w),L=n(648),S=n(647),k=n(268),M=n.n(k),P=n(643),D=n(642);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var R=r.createElement("path",{d:"M0.226562 79.5859C13.9609 78.5547 24.4844 76.9844 31.7969 74.875C32.125 72.7188 32.2891 70.2812 32.2891 67.5625C32.2891 64.7969 32.2188 62.2422 32.0781 59.8984L7.11719 50.8281C5.42969 50.2188 4.16406 49.1172 3.32031 47.5234C2.47656 45.8828 1.84375 43.75 1.42188 41.125C0.484375 35.3594 0.015625 30.9531 0.015625 27.9062C0.015625 23.0781 0.132812 19.5859 0.367188 17.4297C0.742188 13.5859 3.20312 10.9844 7.75 9.625C18.3906 5.78125 30.9062 2.61719 45.2969 0.132812L49.5859 17.0781L40.5859 18.3438C31.6797 19.6563 24.2734 21.0625 18.3672 22.5625C18.1797 23.7812 18.0859 25.375 18.0859 27.3438C18.0859 31.375 18.1797 34.5391 18.3672 36.8359L44.3125 48.2266C47.1719 49.4453 49.0938 51.5781 50.0781 54.625C50.3594 55.5156 50.5 56.1484 50.5 56.5234C50.5 56.8984 50.4531 57.7188 50.3594 58.9844C50.3125 60.2031 50.2188 61.8438 50.0781 63.9062C49.7031 69.4375 49.2344 74.1953 48.6719 78.1797C48.1094 82.1172 46.7266 84.8125 44.5234 86.2656C42.3672 87.6719 39.7188 88.9375 36.5781 90.0625C33.4844 91.1406 30.1328 92.125 26.5234 93.0156C20.6641 94.375 12.9062 95.7578 3.25 97.1641L0.226562 79.5859ZM68.4297 4.84375L85.5156 2.59375L86.9922 46.1875L114.203 45.2031L114.906 5.125L132.062 2.73438L132.203 41.2656L129.18 94L113.922 95.2656L113.781 60.7422L105.555 61.1641L86.8516 61.0234L85.6562 94L70.2578 95.2656L68.4297 4.84375ZM166.234 94.4219C164.266 93.9531 162.695 93.3203 161.523 92.5234C160.398 91.7266 159.367 90.1328 158.43 87.7422C157.539 85.3047 156.672 82.0938 155.828 78.1094C155.031 74.0781 154.352 69.8359 153.789 65.3828C152.711 56.8516 152.172 49.5156 152.172 43.375C152.172 32.7344 152.453 26.0312 153.016 23.2656C153.578 20.4531 154.164 18.2969 154.773 16.7969C155.383 15.2969 156.18 13.9609 157.164 12.7891C158.992 10.5391 161.523 8.82813 164.758 7.65625C167.992 6.48437 171.461 5.52344 175.164 4.77344C178.867 3.97656 182.805 3.32031 186.977 2.80469C195.273 1.77344 204.203 1.16406 213.766 0.976562L216.367 17.9922C199.633 18.6484 186.227 20.0312 176.148 22.1406C174.086 22.6094 172.375 23.1016 171.016 23.6172C170.453 26.8047 170.172 31.3281 170.172 37.1875C170.172 43.0469 170.242 47.5938 170.383 50.8281C170.523 54.0625 170.734 57.2969 171.016 60.5312C171.625 67.8438 172.586 74.0781 173.898 79.2344C174.555 79.3281 175.234 79.375 175.938 79.375C176.641 79.375 177.93 79.375 179.805 79.375C184.211 79.375 188.711 78.8359 193.305 77.7578C195.648 62.5234 196.82 45.6719 196.82 27.2031L214.328 28.3281C214.562 31.6094 214.68 34.4922 214.68 36.9766C214.68 39.4141 214.586 42.0391 214.398 44.8516C214.258 47.6172 214.047 50.4531 213.766 53.3594C213.484 56.2188 213.156 59.1016 212.781 62.0078C212.406 64.8672 212.031 67.6094 211.656 70.2344C211.281 72.8125 210.906 75.2031 210.531 77.4062L209.547 82.8906C208.75 86.7344 207.836 89.1719 206.805 90.2031C205.82 91.2344 204.859 91.9609 203.922 92.3828C203.031 92.7578 201.883 93.0859 200.477 93.3672C199.07 93.6484 197.523 93.8828 195.836 94.0703C194.195 94.3047 192.461 94.4922 190.633 94.6328C188.805 94.7734 187.047 94.8906 185.359 94.9844C182.547 95.0781 179.945 95.125 177.555 95.125C171.977 95.125 168.203 94.8906 166.234 94.4219ZM237.18 29.0312L255.18 26.1484V40.2812L254.617 59.8984C256.352 59.6172 257.992 59.3125 259.539 58.9844L264.109 57.8594C265.609 57.4844 267.086 57.0625 268.539 56.5938L273.18 54.9766C275.383 47.9922 276.484 39.4609 276.484 29.3828C276.484 25.6328 276.297 23.2656 275.922 22.2812C269.734 20.3125 258.438 19.0938 242.031 18.625C237.812 18.5313 233.898 18.4141 230.289 18.2734L232.961 1.67969C255.086 2.52344 271.281 4.16406 281.547 6.60156C283.188 7.02344 285.086 8.3125 287.242 10.4688C291.32 14.5469 293.523 17.8281 293.852 20.3125C294.227 22.75 294.414 26.2188 294.414 30.7188C294.414 35.1719 293.828 40.5156 292.656 46.75C291.484 52.9844 289.586 59.1719 286.961 65.3125C285.93 67.75 283.586 69.25 279.93 69.8125L255.039 74.2422L254.195 93.8594L238.445 95.4062L237.18 29.0312ZM313.258 29.0312L331.258 26.1484V40.2812L330.695 59.8984C332.43 59.6172 334.07 59.3125 335.617 58.9844L340.188 57.8594C341.688 57.4844 343.164 57.0625 344.617 56.5938L349.258 54.9766C351.461 47.9922 352.562 39.4609 352.562 29.3828C352.562 25.6328 352.375 23.2656 352 22.2812C345.812 20.3125 334.516 19.0938 318.109 18.625C313.891 18.5313 309.977 18.4141 306.367 18.2734L309.039 1.67969C331.164 2.52344 347.359 4.16406 357.625 6.60156C359.266 7.02344 361.164 8.3125 363.32 10.4688C367.398 14.5469 369.602 17.8281 369.93 20.3125C370.305 22.75 370.492 26.2188 370.492 30.7188C370.492 35.1719 369.906 40.5156 368.734 46.75C367.562 52.9844 365.664 59.1719 363.039 65.3125C362.008 67.75 359.664 69.25 356.008 69.8125L331.117 74.2422L330.273 93.8594L314.523 95.4062L313.258 29.0312ZM404.172 78.3203L438.273 83.4531L434.547 98.7812L423.93 97.375C408.32 95.2188 396.602 93.0859 388.773 90.9766L387.859 9.90625C404.406 5.6875 420.156 2.85156 435.109 1.39844L437.57 18.1328L403.891 22L404.594 43.0234L434.828 41.7578L433.703 58.2812L404.734 57.2969L404.172 78.3203ZM505.562 19.1172C500.078 19.3516 493.398 19.7734 485.523 20.3828L486.156 49.6328L484.539 94L468.859 95.2656L468.016 21.0156C463.938 21.1094 460.164 21.25 456.695 21.4375C453.273 21.625 450.367 21.7188 447.977 21.7188L449.242 6.46094C465.461 4.35156 483.625 3.29688 503.734 3.29688L505.562 19.1172ZM518.992 4.84375L536.078 2.59375L537.555 46.1875L564.766 45.2031L565.469 5.125L582.625 2.73438L582.766 41.2656L579.742 94L564.484 95.2656L564.344 60.7422L556.117 61.1641L537.414 61.0234L536.219 94L520.82 95.2656L518.992 4.84375Z"});function A(e,t){var n=e.title,a=e.titleId,s=I(e,["title","titleId"]);return r.createElement("svg",E({width:583,height:99,viewBox:"0 0 583 99",fill:"currentColor",stroke:"current",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,R)}var z=r.forwardRef(A),q=(n.p,n(267)),F=n.n(q),Z=n(1);function U(e){var t=Object(r.useState)(["all"]),n=Object(p.a)(t,2),a=n[0],s=n[1],i=Object(r.useState)({all:!0}),o=Object(p.a)(i,2),d=o[0],l=o[1],m=function(t){null!=t&&""!==t&&(e.onKeywordChange(t),function(e){d[e]||(s((function(t){return[].concat(Object(y.a)(t),[e])})),l((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(c.a)({},e,!0))})))}(t))},b=B();return Object(Z.jsxs)("div",{className:"topbar",children:[Object(Z.jsx)("div",{className:"left",children:Object(Z.jsxs)(j.b,{to:"/",children:[Object(Z.jsx)("img",{src:"assets/logo.png",alt:""}),Object(Z.jsx)(z,{width:200,color:"inherit"})]})}),Object(Z.jsxs)("div",{className:"center",children:[Object(Z.jsx)(L.a,{classes:b,freeSolo:!0,id:"search-bar",onChange:function(e,t){return m(t)},options:a.map((function(e){return e})),style:{width:"100%",color:"white",display:"block",marginLeft:"auto",marginRight:"auto"},renderInput:function(t){return Object(Z.jsx)(S.a,Object(u.a)(Object(u.a)({},t),{},{margin:"normal",variant:"outlined",placeholder:"Searching for... '"+e.keyword+"'",InputProps:Object(u.a)({},t.InputProps)}))}}),Object(Z.jsx)("div",{className:"search-btn",children:Object(Z.jsx)(j.b,{to:"/",children:Object(Z.jsx)(N.a,{fontSize:"inherit"})})})]}),Object(Z.jsxs)("div",{className:"right",children:[Object(Z.jsx)(j.b,{to:"/",children:Object(Z.jsx)(D.a,{title:Object(Z.jsx)("h5",{style:{fontSize:16},children:" Home"}),children:Object(Z.jsx)(F.a,{fontSize:"inherit"})})}),Object(Z.jsx)(j.b,{to:"/store",children:Object(Z.jsx)(D.a,{title:Object(Z.jsx)("h5",{style:{fontSize:16},children:" My Store"}),children:Object(Z.jsx)(M.a,{fontSize:"inherit"})})}),Object(Z.jsx)(j.b,{to:"/cart",children:Object(Z.jsx)(D.a,{title:Object(Z.jsx)("h5",{style:{fontSize:16},children:"Shopping Cart"}),children:Object(Z.jsx)(_.a,{fontSize:"inherit"})})}),Object(Z.jsx)(j.b,{to:"/orders",children:Object(Z.jsx)(D.a,{title:Object(Z.jsx)("h5",{style:{fontSize:16},children:" My Orders"}),children:Object(Z.jsx)(T.a,{fontSize:"inherit"})})})]})]})}var B=Object(P.a)((function(e){return{root:{"& .MuiInputLabel-outlined:not(.MuiInputLabel-shrink)":{transform:"translate(34px, 20px) scale(1);"}},inputRoot:{height:"40px",color:x,background:O,fontSize:"inherit",'&[class*="MuiOutlinedInput-root"] .MuiAutocomplete-input:first-child':{padding:0,paddingLeft:26,paddingRight:26},"& .MuiOutlinedInput-notchedOutline":{borderColor:x},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:x},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:b}},paper:{background:O,color:x},option:{'&[data-focus="true"]':{backgroundColor:b,borderColor:"transparent"},'&[aria-selected="true"]':{backgroundColor:O,borderColor:"transparent"}},clearIndicator:{display:"none",color:x,fontSize:"inherit"},popupIndicator:{color:x,fontSize:"inherit"}}})),H=(n(318),n(270)),W=n.n(H),Q=n(129),K=n.n(Q),V=[{inputs:[{internalType:"address",name:"seller_address",type:"address"},{internalType:"string",name:"product_name",type:"string"},{internalType:"string",name:"img",type:"string"},{internalType:"string[]",name:"keywords",type:"string[]"},{internalType:"uint256",name:"min_orders",type:"uint256"},{internalType:"uint256",name:"max_orders",type:"uint256"},{internalType:"uint256",name:"cost",type:"uint256"},{internalType:"uint256",name:"order_close_date",type:"uint256"},{internalType:"uint256",name:"promised_deadline",type:"uint256"},{internalType:"contract EventEmitter",name:"_eventEmitter",type:"address"}],stateMutability:"payable",type:"constructor"},{anonymous:!1,inputs:[],name:"Aborted",type:"event"},{anonymous:!1,inputs:[],name:"ItemReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"buyer_address",type:"address"}],name:"PurchaseConfirmed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"production_status",type:"string"}],name:"StatusChanged",type:"event"},{inputs:[],name:"abort",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"title",type:"string"},{internalType:"uint256",name:"timestamp",type:"uint256"}],name:"addProgress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"buyer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"checkProductionStatus",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_quantity",type:"uint256"},{internalType:"address",name:"sender",type:"address"}],name:"confirmPurchase",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"confirmReceived",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"data",outputs:[{internalType:"address",name:"product_address",type:"address"},{internalType:"address",name:"seller",type:"address"},{internalType:"string",name:"product_name",type:"string"},{internalType:"string",name:"img",type:"string"},{internalType:"uint256",name:"min_orders",type:"uint256"},{internalType:"uint256",name:"max_orders",type:"uint256"},{internalType:"uint256",name:"current_orders",type:"uint256"},{internalType:"uint256",name:"cost",type:"uint256"},{internalType:"uint256",name:"current_progress",type:"uint256"},{internalType:"string",name:"production_status",type:"string"},{internalType:"uint256",name:"contract_created_date",type:"uint256"},{internalType:"uint256",name:"order_close_date",type:"uint256"},{internalType:"uint256",name:"promised_deadline",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getData",outputs:[{components:[{internalType:"address",name:"product_address",type:"address"},{internalType:"address",name:"seller",type:"address"},{internalType:"string",name:"product_name",type:"string"},{internalType:"string",name:"img",type:"string"},{internalType:"string[]",name:"keywords",type:"string[]"},{internalType:"uint256",name:"min_orders",type:"uint256"},{internalType:"uint256",name:"max_orders",type:"uint256"},{internalType:"uint256",name:"current_orders",type:"uint256"},{internalType:"uint256",name:"cost",type:"uint256"},{internalType:"uint256",name:"current_progress",type:"uint256"},{components:[{internalType:"string",name:"title",type:"string"},{internalType:"uint256",name:"timestamp",type:"uint256"}],internalType:"struct DataTypes.ProgressState[]",name:"progress",type:"tuple[]"},{internalType:"string",name:"production_status",type:"string"},{internalType:"uint256",name:"contract_created_date",type:"uint256"},{internalType:"uint256",name:"order_close_date",type:"uint256"},{internalType:"uint256",name:"promised_deadline",type:"uint256"},{internalType:"int256[]",name:"user_item_data",type:"int256[]"}],internalType:"struct DataTypes.ProductData",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"number_of_buyers",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"onPromisedDeadline",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"orders_not_received",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"setProgressDone",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"state",outputs:[{internalType:"enum Product.EscrowState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"value",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],J=n(75),G=n.n(J),Y=new G.a(G.a.givenProvider||"http://localhost:8545"),X=new Y.eth.Contract([{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"buyer_address",type:"address"}],name:"CartChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"buyer_address",type:"address"}],name:"OrderChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"seller_address",type:"address"},{indexed:!1,internalType:"address",name:"prod_address",type:"address"}],name:"ProductCreated",type:"event"},{inputs:[{components:[{internalType:"address",name:"addr",type:"address"},{internalType:"int64",name:"quantity",type:"int64"}],internalType:"struct Shoppeth.ProductItem[]",name:"cart_items",type:"tuple[]"}],name:"checkoutCart",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"string",name:"product_name",type:"string"},{internalType:"string",name:"img",type:"string"},{internalType:"string[]",name:"keywords",type:"string[]"},{internalType:"uint256",name:"min_orders",type:"uint256"},{internalType:"uint256",name:"max_orders",type:"uint256"},{internalType:"uint256",name:"order_close_date",type:"uint256"},{internalType:"uint256",name:"promised_deadline",type:"uint256"}],name:"createProduct",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"addr",type:"address"},{internalType:"int64",name:"quantity",type:"int64"}],internalType:"struct Shoppeth.ProductItem[]",name:"cart_items",type:"tuple[]"}],name:"updateCart",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"keyword",type:"string"}],name:"browseProducts",outputs:[{components:[{internalType:"address",name:"product_address",type:"address"},{internalType:"address",name:"seller",type:"address"},{internalType:"string",name:"product_name",type:"string"},{internalType:"string",name:"img",type:"string"},{internalType:"string[]",name:"keywords",type:"string[]"},{internalType:"uint256",name:"min_orders",type:"uint256"},{internalType:"uint256",name:"max_orders",type:"uint256"},{internalType:"uint256",name:"current_orders",type:"uint256"},{internalType:"uint256",name:"cost",type:"uint256"},{internalType:"uint256",name:"current_progress",type:"uint256"},{components:[{internalType:"string",name:"title",type:"string"},{internalType:"uint256",name:"timestamp",type:"uint256"}],internalType:"struct DataTypes.ProgressState[]",name:"progress",type:"tuple[]"},{internalType:"string",name:"production_status",type:"string"},{internalType:"uint256",name:"contract_created_date",type:"uint256"},{internalType:"uint256",name:"order_close_date",type:"uint256"},{internalType:"uint256",name:"promised_deadline",type:"uint256"},{internalType:"int256[]",name:"user_item_data",type:"int256[]"}],internalType:"struct DataTypes.ProductData[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"eventEmitter",outputs:[{internalType:"contract EventEmitter",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCart",outputs:[{components:[{internalType:"address",name:"product_address",type:"address"},{internalType:"address",name:"seller",type:"address"},{internalType:"string",name:"product_name",type:"string"},{internalType:"string",name:"img",type:"string"},{internalType:"string[]",name:"keywords",type:"string[]"},{internalType:"uint256",name:"min_orders",type:"uint256"},{internalType:"uint256",name:"max_orders",type:"uint256"},{internalType:"uint256",name:"current_orders",type:"uint256"},{internalType:"uint256",name:"cost",type:"uint256"},{internalType:"uint256",name:"current_progress",type:"uint256"},{components:[{internalType:"string",name:"title",type:"string"},{internalType:"uint256",name:"timestamp",type:"uint256"}],internalType:"struct DataTypes.ProgressState[]",name:"progress",type:"tuple[]"},{internalType:"string",name:"production_status",type:"string"},{internalType:"uint256",name:"contract_created_date",type:"uint256"},{internalType:"uint256",name:"order_close_date",type:"uint256"},{internalType:"uint256",name:"promised_deadline",type:"uint256"},{internalType:"int256[]",name:"user_item_data",type:"int256[]"}],internalType:"struct DataTypes.ProductData[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOrders",outputs:[{components:[{internalType:"address",name:"product_address",type:"address"},{internalType:"address",name:"seller",type:"address"},{internalType:"string",name:"product_name",type:"string"},{internalType:"string",name:"img",type:"string"},{internalType:"string[]",name:"keywords",type:"string[]"},{internalType:"uint256",name:"min_orders",type:"uint256"},{internalType:"uint256",name:"max_orders",type:"uint256"},{internalType:"uint256",name:"current_orders",type:"uint256"},{internalType:"uint256",name:"cost",type:"uint256"},{internalType:"uint256",name:"current_progress",type:"uint256"},{components:[{internalType:"string",name:"title",type:"string"},{internalType:"uint256",name:"timestamp",type:"uint256"}],internalType:"struct DataTypes.ProgressState[]",name:"progress",type:"tuple[]"},{internalType:"string",name:"production_status",type:"string"},{internalType:"uint256",name:"contract_created_date",type:"uint256"},{internalType:"uint256",name:"order_close_date",type:"uint256"},{internalType:"uint256",name:"promised_deadline",type:"uint256"},{internalType:"int256[]",name:"user_item_data",type:"int256[]"}],internalType:"struct DataTypes.ProductData[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getProductCount",outputs:[{internalType:"uint256",name:"productCount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getSelling",outputs:[{components:[{internalType:"address",name:"product_address",type:"address"},{internalType:"address",name:"seller",type:"address"},{internalType:"string",name:"product_name",type:"string"},{internalType:"string",name:"img",type:"string"},{internalType:"string[]",name:"keywords",type:"string[]"},{internalType:"uint256",name:"min_orders",type:"uint256"},{internalType:"uint256",name:"max_orders",type:"uint256"},{internalType:"uint256",name:"current_orders",type:"uint256"},{internalType:"uint256",name:"cost",type:"uint256"},{internalType:"uint256",name:"current_progress",type:"uint256"},{components:[{internalType:"string",name:"title",type:"string"},{internalType:"uint256",name:"timestamp",type:"uint256"}],internalType:"struct DataTypes.ProgressState[]",name:"progress",type:"tuple[]"},{internalType:"string",name:"production_status",type:"string"},{internalType:"uint256",name:"contract_created_date",type:"uint256"},{internalType:"uint256",name:"order_close_date",type:"uint256"},{internalType:"uint256",name:"promised_deadline",type:"uint256"},{internalType:"int256[]",name:"user_item_data",type:"int256[]"}],internalType:"struct DataTypes.ProductData[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"},{internalType:"uint256",name:"",type:"uint256"}],name:"keyword_db",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"lastContractAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"product_db",outputs:[{internalType:"contract Product",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"productContracts",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"user_db",outputs:[{internalType:"address",name:"addr",type:"address"},{internalType:"uint256",name:"cart_length",type:"uint256"}],stateMutability:"view",type:"function"}],"0xcA473f7729033eC6E1acFbADe120a65d51eda85F"),$=new Y.eth.Contract([{anonymous:!1,inputs:[],name:"ProductEvents",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user_address",type:"address"}],name:"UserEvents",type:"event"},{inputs:[],name:"emitProductEvents",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user_address",type:"address"}],name:"emitUserEvents",outputs:[],stateMutability:"nonpayable",type:"function"}],"0xc2dE3912EF1C449F0CB4e29A40D68290f3BD35ED"),ee=function(){var e=Object(l.a)(d.a.mark((function e(t,n,r,a,s,i,c,u){var o,l,p,j,m;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.eth.getAccounts();case 2:for(o=e.sent,l=String(r).split(","),p=["all",t.toLowerCase(),o[0].toLowerCase()],(j={}).xall=!0,j["x"+t.toLowerCase()]=!0,j["x"+o[0].toLowerCase()]=!0,m=0;m<l.length;m++)null==j["x"+l[m].toLowerCase()]&&(j["x"+l[m].toLowerCase()]=!0,p.push(l[m].toLowerCase()));return e.next=12,X.methods.createProduct(t,n,p,a,s,c,u).send({from:o[0],value:Y.utils.toWei(String(2*parseInt(i)),"ether")});case 12:case"end":return e.stop()}}),e)})));return function(t,n,r,a,s,i,c,u){return e.apply(this,arguments)}}(),te=function(){var e=Object(l.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.eth.getAccounts();case 2:if(null!=e.sent[0]){e.next=5;break}return e.abrupt("return",[]);case 5:return e.next=7,X.methods.browseProducts(t.toLowerCase()).call();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(l.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.eth.getAccounts();case 2:return r=e.sent,e.next=5,X.methods.checkoutCart(t).send({from:r[0],value:Y.utils.toWei(String(n),"ether")});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),re=function(){var e=Object(l.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.eth.getAccounts();case 2:return t=e.sent,e.next=5,X.methods.getOrders().call({from:t[0]});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(l.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.eth.getAccounts();case 2:return t=e.sent,e.next=5,X.methods.getSelling().call({from:t[0]});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(l.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.eth.getAccounts();case 2:return n=e.sent,r=new Y.eth.Contract(V,t),e.next=6,r.methods.abort().send({from:n[0]});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(l.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.eth.getAccounts();case 2:return n=e.sent,r=new Y.eth.Contract(V,t),e.next=6,r.methods.confirmReceived().send({from:n[0]});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(l.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.eth.getAccounts();case 2:return n=e.sent,r=new Y.eth.Contract(V,t),e.next=6,r.methods.onPromisedDeadline().send({from:n[0]});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(l.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.eth.getAccounts();case 2:return n=e.sent,r=new Y.eth.Contract(V,t),e.next=6,r.methods.checkProductionStatus().send({from:n[0]});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(l.a)(d.a.mark((function e(t,n,r){var a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.eth.getAccounts();case 2:return a=e.sent,s=new Y.eth.Contract(V,t),e.next=6,s.methods.addProgress(n,r).send({from:a[0]});case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),de=function(){var e=Object(l.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.eth.getAccounts();case 2:return n=e.sent,r=new Y.eth.Contract(V,t),e.next=6,r.methods.setProgressDone().send({from:n[0]});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(e){return Object(Z.jsxs)("div",{className:"text-progress-bar "+e.color,style:{width:210},children:[Object(Z.jsx)("div",{className:"bar-fill "+e.color,style:{width:210*e.progress}}),Object(Z.jsx)("h4",{children:e.text})]})},pe=function(e){var t=e.product,n=t.min_orders-t.current_orders,r=t.max_orders-t.current_orders,a=0===r?"":n<=0?r+" Left!":"Needs "+n+" More!",s=t.current_orders>=t.min_orders?0===t.max_orders?0:t.current_orders/t.max_orders:0===t.min_orders?0:t.current_orders/t.min_orders,i=0===r?"Product Sold Out":t.current_orders>=t.min_orders?r+" items left! Order Now!":"Product needs "+n+" more orders to be confirmed",c=t.current_orders+"/"+(t.current_orders>=t.min_orders?t.max_orders:t.min_orders)+" ordered";return Object(Z.jsx)(D.a,{arrow:!0,placement:"top",title:Object(Z.jsx)("h5",{children:i}),children:Object(Z.jsxs)("div",{className:"price-view",children:[Object(Z.jsxs)("h4",{className:"current-price",children:[Y.utils.fromWei(String(t.cost),"ether")," ETH",e.noCart?Object(Z.jsx)("span",{}):Object(Z.jsx)("span",{className:"add-cart",onClick:function(){return e.addToCart(t)},children:Object(Z.jsx)(W.a,{})})]}),Object(Z.jsx)(le,{text:c,progress:s,color:t.current_orders>=t.min_orders?"":"primary"}),Object(Z.jsx)("h4",{className:"next-price",children:a})]})})},je=function(e){var t=new Date(0);t.setUTCSeconds(e.expiry);var n="ORDERS_OPEN"===e.production_status?t.toLocaleString().split(",")[0]:e.production_status.split("_")[1],r=new Date(0);r.setUTCSeconds(e.delivery);var a=r.toLocaleString().split(",")[0];return Object(Z.jsxs)("div",{className:"dates-row-view",children:[Object(Z.jsx)(D.a,{arrow:!0,title:"ORDERS_OPEN"===e.production_status?Object(Z.jsx)("h5",{children:"ORDER DEADLINE"}):Object(Z.jsx)("h5",{children:"ORDER "+n}),children:Object(Z.jsxs)("div",{className:"expiry",children:[" ",n," "]})}),Object(Z.jsx)(D.a,{arrow:!0,title:Object(Z.jsx)("h5",{children:"Get your order by this date"}),children:Object(Z.jsxs)("div",{className:"delivery",children:[Object(Z.jsx)(K.a,{fontSize:"inherit"}),Object(Z.jsx)("span",{children:a})]})})]})},me=function(e){var t=e.product;return Object(Z.jsxs)("div",{className:"product",style:"ORDERS_OPEN"===t.production_status?{opacity:1}:{opacity:.55},children:[Object(Z.jsx)("div",{className:"img-wrapper",children:Object(Z.jsx)("img",{src:t.img,alt:""})}),Object(Z.jsxs)("div",{className:"text-wrapper",children:[Object(Z.jsx)("h3",{children:t.product_name}),Object(Z.jsx)("div",{className:"pricing",children:Object(Z.jsx)(pe,{noCart:e.noCart,product:t,addToCart:e.addToCart})}),Object(Z.jsx)("div",{className:"dates-row",children:Object(Z.jsx)(je,{expiry:t.order_close_date,delivery:t.promised_deadline,production_status:t.production_status})})]})]},t.product_name.concat(t.product_address))};function ye(e){return console.log(e.products),Object(Z.jsxs)("div",{className:"home",children:[Object(Z.jsx)("h1",{children:"Home"}),Object(Z.jsxs)("span",{children:["*currently displaying results for '",e.keyword,"'*"]}),null==e.products?Object(Z.jsx)("div",{className:"no-result",children:Object(Z.jsx)("h2",{children:"Loading ..."})}):0===e.products.length?Object(Z.jsx)("div",{className:"no-result",children:Object(Z.jsx)("h2",{children:"No Products Found ..."})}):Object(Z.jsx)("div",{className:"container",children:e.products.map((function(t){return Object(Z.jsx)(me,{product:t,addToCart:e.addToCart})}))})]})}n(592);var be=n(646),he=n(651),Oe=n(645),xe=n(649),fe=n(271),ve=n.n(fe),ge=n(273),_e=n.n(ge),Ce=n(272),Te=n.n(Ce),we=n(276),Ne=n.n(we),Le=n(275),Se=n.n(Le),ke=n(274),Me=n.n(ke),Pe=function(e){var t=e.product,n=function(e){var t=new Date(0);return t.setUTCSeconds(e),t.toLocaleString().split(",")[0]},r=[{icon:_.a,title:"Orders Open",deadline:"Launched"},{icon:ve.a,title:"Orders Closed",deadline:n(t.order_close_date)}].concat(t.progress?t.progress.map((function(e){return{icon:null,title:e.title,deadline:null==e.timestamp||0===e.timestamp?"-/-/-":n(e.timestamp)}})):[],{icon:K.a,title:"Deliveries Completed",deadline:n(t.promised_deadline)}),a=r[t.current_progress].title,s=parseInt(t.current_progress);return Object(Z.jsxs)("div",{className:"deadline-schedule",children:[Object(Z.jsxs)("span",{children:[" \xa0 \xa0 \xa0 \xa0 Current Status: ",Object(Z.jsx)("strong",{children:"ORDERS_CANCELLED"===t.production_status?"PRODUCT CANCELLED":a})]}),Object(Z.jsx)(he.a,{alternativeLabel:!0,activeStep:s,children:r.map((function(e,t){return Object(Z.jsx)(Oe.a,{children:Object(Z.jsx)(xe.a,{StepIconComponent:(n=e.icon,function(e){return Object(Z.jsx)("div",{className:"icon",style:e.completed||e.active?{opacity:1,color:b}:{opacity:.3,color:"rgb(118, 3, 153)"},children:null===n?e.completed||e.active?Object(Z.jsx)(Te.a,{}):Object(Z.jsx)(_e.a,{}):Object(Z.jsx)(n,{})})}),children:Object(Z.jsxs)("div",{className:"text-box",children:[Object(Z.jsx)("div",{className:"deadline",children:e.deadline}),Object(Z.jsx)("div",{className:"title",children:e.title})]})})},e);var n}))})]})},De=function(e){var t=e.product,n=t.current_progress,r=t.progress,a=t.production_status,s=!0,i=!0,c=!1,u="",o="Cancel & Refund",d=!(null==r||0===r.length);switch(parseInt(n)){case 0:i=!1,Date.now()/1e3>=e.product.order_close_date&&e.product.current_orders>=e.product.min_orders&&(c=!0),o+=" existing orders";break;case 1:if(!d){i=!1;break}case 2:if(!d){s=!1,i=!1;break}default:if(!d){s=!1,i=!1;break}n===r.length+1?i=!1:n>r.length+1?(s=!1,i=!1):u=r[n-1].title}return"ORDERS_CANCELLED"===a&&(i=!1,c=!1,s=!1),Object(Z.jsxs)("div",{className:"btn-wrapper",children:[c?Object(Z.jsxs)(be.a,{className:"btn",color:"inherit",variant:"outlined",onClick:function(){return ue(e.product.product_address)},children:[Object(Z.jsx)(Me.a,{})," \xa0 Close Orders"]}):Object(Z.jsx)("div",{}),i?Object(Z.jsxs)(be.a,{className:"btn",color:"inherit",variant:"outlined",onClick:function(){return de(e.product.product_address)},children:[Object(Z.jsx)(Se.a,{})," \xa0",u]}):Object(Z.jsx)("div",{}),s?Object(Z.jsxs)(be.a,{onClick:function(){return se(e.product.product_address)},className:"btn refund",color:"inherit",variant:"outlined",children:[Object(Z.jsx)(Ne.a,{})," \xa0",o]}):Object(Z.jsx)("div",{})]})};function Ee(e){var t=Object(r.useState)(0),n=Object(p.a)(t,2),a=n[0],s=n[1],i=null==e.products||0===e.products.length?null:e.products[a],c=Object(r.useState)(0),o=Object(p.a)(c,2),d=o[0],l=o[1],j=Object(r.useState)(0),m=Object(p.a)(j,2),y=m[0],b=m[1],h=Object(r.useState)(""),O=Object(p.a)(h,2),x=O[0],f=O[1],v=Object(r.useState)(""),g=Object(p.a)(v,2),_=g[0],C=g[1],w=Object(r.useState)(""),N=Object(p.a)(w,2),k=N[0],M=N[1],P=Object(r.useState)(0),D=Object(p.a)(P,2),E=D[0],I=D[1],R=Object(r.useState)(0),A=Object(p.a)(R,2),z=A[0],q=A[1],F=Object(r.useState)(""),U=Object(p.a)(F,2),B=U[0],H=U[1],W=Object(r.useState)(0),Q=Object(p.a)(W,2),K=Q[0],V=Q[1],J=Object(r.useState)(0),G=Object(p.a)(J,2),X=G[0],$=G[1],te=Ie();return Object(Z.jsxs)("div",{className:"sell",children:[Object(Z.jsx)("h1",{children:"My Store"}),Object(Z.jsxs)("div",{className:"section-wrapper",children:[Object(Z.jsx)("h2",{children:"My Products"}),null==e.products?Object(Z.jsx)("div",{className:"no-result",children:Object(Z.jsx)("h2",{children:"Loading ..."})}):0===e.products.length?Object(Z.jsx)("div",{className:"no-result",children:Object(Z.jsx)("h2",{children:"No Products Found ..."})}):Object(Z.jsx)("div",{className:"container",children:e.products.map((function(e,t){return Object(Z.jsx)("div",{onClick:function(){s(t)},children:Object(Z.jsx)(me,{product:e,noCart:!0})})}))}),Object(Z.jsx)("br",{}),null==i?Object(Z.jsx)("div",{}):Object(Z.jsxs)("div",{children:[Object(Z.jsxs)("div",{className:"selected-product",children:[Object(Z.jsx)("h2",{children:"Product Status of: "}),Object(Z.jsx)(L.a,{classes:te,freeSolo:!0,id:"search-bar",value:i.product_name,onChange:function(e){s(e.target.dataset.optionIndex)},options:e.products.map((function(e){return e.product_name})),style:{width:"400px",color:"white"},renderInput:function(e){return Object(Z.jsx)(S.a,Object(u.a)(Object(u.a)({},e),{},{margin:"normal",variant:"outlined",InputProps:Object(u.a)({},e.InputProps)}))}})]}),Object(Z.jsx)("span",{children:"* select product by clicking it in My Products section *"}),Object(Z.jsxs)("div",{className:"field-container",children:[Object(Z.jsxs)("div",{className:"field",children:[Object(Z.jsx)("h3",{children:"Current Orders:"})," ",Object(Z.jsxs)("h2",{children:[i.current_orders,Object(Z.jsx)(T.a,{fontSize:"inherit"})]})]}),Object(Z.jsxs)("div",{className:"field",children:[Object(Z.jsx)("h3",{children:"Min Orders:"}),Object(Z.jsxs)("h4",{children:[i.min_orders,Object(Z.jsx)(T.a,{fontSize:"inherit"})]})]}),Object(Z.jsxs)("div",{className:"field",children:[Object(Z.jsx)("h3",{children:"Max Orders:"})," ",Object(Z.jsxs)("h4",{children:[i.max_orders,Object(Z.jsx)(T.a,{fontSize:"inherit"})]})]}),Object(Z.jsxs)("div",{className:"field",children:[Object(Z.jsx)("h3",{children:"Cost:"}),Object(Z.jsxs)("h4",{children:[Y.utils.fromWei(String(i.cost),"ether")," ETH"]})]}),Object(Z.jsxs)("div",{className:"order-status-wrapper",children:[Object(Z.jsx)("div",{className:"field",children:Object(Z.jsx)("h3",{children:"Product Timeline:"})}),Object(Z.jsxs)("div",{className:"order-status",children:[Object(Z.jsx)(Pe,{product:i}),Object(Z.jsx)(De,{product:i})]})]})]})]})]}),null==i||"ORDERS_CANCELLED"===i.production_status||"ORDERS_ENDED"===i.production_status?Object(Z.jsx)("div",{}):Object(Z.jsxs)("div",{className:"section-wrapper",children:[Object(Z.jsxs)("h2",{children:["Add Progress Stage to ",Object(Z.jsx)("strong",{children:i.product_name})]}),Object(Z.jsx)("div",{className:"field-container",children:Object(Z.jsxs)("form",{action:"",onSubmit:"",children:[Object(Z.jsxs)("div",{className:"field",children:[Object(Z.jsx)("h3",{children:"Stage Name:"}),Object(Z.jsx)("input",{className:"input-field",name:"progress_state",required:!0,input:"text",placeholder:"Production Completed",onInput:function(e){return H(e.target.value)}})]}),Object(Z.jsxs)("div",{className:"field",children:[Object(Z.jsx)("h3",{children:"Estimated Completion Time:"}),Object(Z.jsx)("input",{className:"input-field",name:"estimated_timestamp",input:"text",placeholder:"i.e. 1629366318",onInput:function(e){return V(e.target.value)}})]}),Object(Z.jsx)(be.a,{className:"btn",color:"inherit",variant:"outlined",type:"submit",onClick:function(){return oe(i.product_address,B,K)},children:"Add +"})]})})]}),Object(Z.jsxs)("div",{className:"section-wrapper",children:[Object(Z.jsx)("h2",{children:"Add New Product"}),Object(Z.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault(),ee(k,_,x,E,z,X,d,y),e.target.reset()},children:[Object(Z.jsxs)("div",{className:"field-container",children:[Object(Z.jsxs)("div",{className:"field",children:[Object(Z.jsx)("h3",{children:"Product Title:"}),Object(Z.jsx)("input",{className:"input-field",name:"title",required:!0,input:"text",placeholder:"i.e. keyboard",onInput:function(e){return M(e.target.value)}})]}),Object(Z.jsxs)("div",{className:"field",children:[Object(Z.jsx)("h3",{children:"Img Src:"}),Object(Z.jsx)("input",{className:"input-field",name:"img",required:!0,input:"text",placeholder:"i.e. my.stuff/keyboard.jpg",onInput:function(e){return C(e.target.value)}})]}),Object(Z.jsxs)("div",{className:"field",children:[Object(Z.jsx)("h3",{children:"Cost"}),Object(Z.jsx)("input",{className:"input-field",name:"cost",placeholder:"i.e. 1",required:!0,input:"text",onInput:function(e){return $(e.target.value)}})]}),Object(Z.jsxs)("div",{className:"field",children:[Object(Z.jsx)("h3",{children:"Minimum Orders"}),Object(Z.jsx)("input",{className:"input-field",name:"min-orders",placeholder:"i.e. 30",required:!0,input:"text",onInput:function(e){return I(e.target.value)}})]}),Object(Z.jsxs)("div",{className:"field",children:[Object(Z.jsx)("h3",{children:"Maximum Orders"}),Object(Z.jsx)("input",{className:"input-field",name:"max-orders",placeholder:"i.e. 100",required:!0,input:"text",onInput:function(e){return q(e.target.value)}})]}),Object(Z.jsxs)("div",{className:"field",children:[Object(Z.jsx)("h3",{children:"Search Keywords:"}),Object(Z.jsx)("input",{className:"input-field",name:"keywords",placeholder:"i.e. rgb, mechanical keyboard, typewriter, ...",required:!0,input:"text",onInput:function(e){return f(e.target.value)}})]}),Object(Z.jsxs)("div",{className:"field",children:[Object(Z.jsx)("h3",{children:"Order Deadline:"}),Object(Z.jsx)("input",{className:"input-field",name:"expiry",placeholder:"i.e. 1629366318",required:!0,input:"text",onInput:function(e){return l(e.target.value)}})]}),Object(Z.jsxs)("div",{className:"field",children:[Object(Z.jsx)("h3",{children:"Delivery Deadline:"}),Object(Z.jsx)("input",{className:"input-field",name:"delivery",placeholder:"i.e. 1639366318",required:!0,input:"text",onInput:function(e){return b(e.target.value)}})]})]}),Object(Z.jsx)(be.a,{className:"btn",color:"inherit",variant:"outlined",type:"submit",children:"Add +"})]})]})]})}var Ie=Object(P.a)((function(e){return{root:{"& .MuiInputLabel-outlined:not(.MuiInputLabel-shrink)":{transform:"translate(34px, 20px) scale(1);"}},inputRoot:{color:f,background:v,fontSize:"inherit",'&[class*="MuiOutlinedInput-root"] .MuiAutocomplete-input:first-child':{padding:0,paddingLeft:10,paddingRight:10},"& .MuiOutlinedInput-notchedOutline":{borderColor:f},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:f},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:h}},paper:{background:v,color:f},option:{'&[data-focus="true"]':{backgroundColor:h,borderColor:"transparent"},'&[aria-selected="true"]':{backgroundColor:b,borderColor:"transparent"}},clearIndicator:{display:"none",fontSize:"inherit"}}}));n(593);function Re(e){return Object(Z.jsxs)("div",{className:"orders",children:[Object(Z.jsx)("h1",{children:"My Orders"}),Object(Z.jsx)("div",{className:"container",children:null==e.products?Object(Z.jsx)("div",{className:"no-result",children:Object(Z.jsx)("h2",{children:"Loading..."})}):0===e.products.length?Object(Z.jsx)("div",{className:"no-result",children:Object(Z.jsx)("h2",{children:"No Orders Yet ..."})}):e.products.map((function(e){return Object(Z.jsxs)("div",{className:"order-items",children:[Object(Z.jsxs)("h2",{children:[e.user_item_data[0]," x "]}),Object(Z.jsx)(me,{product:e}),Object(Z.jsx)("div",{className:"order-status",children:Object(Z.jsx)(Pe,{product:e,canReceive:!0})}),"ORDERS_CLOSED"===e.production_status?Object(Z.jsxs)("div",{children:[Object(Z.jsx)("br",{}),Object(Z.jsx)(be.a,{onClick:function(){return ie(e.product_address)},className:"btn",color:"inherit",variant:"outlined",children:"Received!"}),Object(Z.jsx)("br",{}),Object(Z.jsx)("br",{}),Date.now()/1e3>=e.promised_deadline?Object(Z.jsx)(be.a,{onClick:function(){return ce(e.product_address)},className:"btn",color:"inherit",variant:"outlined",children:"Request Refund"}):Object(Z.jsx)("div",{}),Object(Z.jsx)("br",{}),Object(Z.jsx)("span",{children:"*Refund will only succeed once the 'Deliveries Completed' deadline is reached*"})]}):Object(Z.jsx)("div",{})]})}))})]})}n(594);var Ae=n(277),ze=n.n(Ae),qe=n(278),Fe=n.n(qe);function Ze(e){var t=0;return Object(Z.jsxs)("div",{className:"cart",children:[Object(Z.jsx)("h1",{children:"Shopping Cart"}),Object(Z.jsx)("div",{className:"container",children:Object.keys(e.products).map((function(n){var r=e.products[n];return t+=Number(Y.utils.fromWei(String(r.cost),"ether"))*e.productsQuantity[n],Object(Z.jsxs)("div",{className:"cart-items",children:[Object(Z.jsx)(me,{product:r}),Object(Z.jsx)("div",{className:"controls",children:Object(Z.jsxs)("h3",{children:[Object(Z.jsxs)("span",{onClick:function(){return e.removeFromCart(r)},children:[" ",Object(Z.jsx)(ze.a,{fontSize:"inherit"})," "]}),e.productsQuantity[n],Object(Z.jsxs)("span",{onClick:function(){return e.addToCart(r)},children:[" ",Object(Z.jsx)(Fe.a,{fontSize:"inherit"})]})]})})]})}))}),0===Object.keys(e.products).length?Object(Z.jsx)("div",{className:"empty-cart",children:Object(Z.jsx)("h2",{children:"Cart is empty..."})}):Object(Z.jsxs)("div",{className:"btn-wrapper",children:[Object(Z.jsxs)(be.a,{className:"btn",color:"inherit",variant:"outlined",onClick:function(){ne(function(){for(var t=[],n=0,r=Object.entries(e.productsQuantity);n<r.length;n++){var a=Object(p.a)(r[n],2),s=a[0],i=a[1];t.push({addr:s,quantity:i})}return t}(),2*t),e.clearCart()},children:["Checkout \xa0 ",Object(Z.jsx)("strong",{children:" ("+t+" ETH)"})]}),Object(Z.jsx)("span",{children:"*Actual transaction includes a deposit equal to the cost of the item. Once the order is complete, the deposit will be refunded to you.*"})]})]})}n(595);function Ue(){return Object(Z.jsx)("div",{className:"footer"})}n(596);var Be=n(280),He=n.n(Be),We=n(281),Qe=n.n(We),Ke=n(279),Ve=n.n(Ke),Je=n(282),Ge=n.n(Je);function Ye(){var e=new G.a(G.a.givenProvider||"http://localhost:8545"),t=Object(r.useState)("loading.."),n=Object(p.a)(t,2),a=n[0],s=n[1],i=Object(r.useState)("loading.."),c=Object(p.a)(i,2),u=c[0],o=c[1];return window.ethereum.on("accountsChanged",(function(e){s(e[0])})),Object(r.useEffect)((function(){var t=function(){var e=Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=5;break}return e.next=3,window.ethereum.send("eth_requestAccounts");case 3:return window.web3=new G.a(window.ethereum),e.abrupt("return",!0);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var t=Object(l.a)(d.a.mark((function t(){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.eth.getAccounts();case 2:return n=t.sent,t.next=5,e.eth.net.getNetworkType();case 5:r=t.sent,s(n[0]),o(r);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t(),n()}),[e.eth]),Object(Z.jsxs)("div",{className:"login",children:[Object(Z.jsxs)("div",{className:"container",children:[null==a?Object(Z.jsxs)("h2",{children:[" ",Object(Z.jsx)(Ve.a,{})," Please login with metamask "]}):Object(Z.jsxs)("h2",{children:[Object(Z.jsx)(He.a,{})," Logged in with address: ",Object(Z.jsxs)("span",{children:[" ",a]})," "]}),Object(Z.jsxs)("p",{children:[Object(Z.jsx)(Qe.a,{})," Network: ",Object(Z.jsx)("span",{children:u})]}),Object(Z.jsxs)("h2",{children:[Object(Z.jsx)(Ge.a,{})," ",Object(Z.jsx)("span",{children:"View each contract interaction status on the Metamask plugin."})," "]}),null==a?Object(Z.jsx)(be.a,{className:"btn",color:"inherit",variant:"outlined",children:"Login with MetaMask"}):Object(Z.jsx)("span",{})]}),Object(Z.jsx)("div",{className:"margin"})]})}var Xe=n(650);var $e=function(){var e=Object(r.useState)("all"),t=Object(p.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(null),i=Object(p.a)(s,2),o=i[0],y=i[1],b=Object(r.useState)(null),h=Object(p.a)(b,2),O=h[0],x=h[1],f=Object(r.useState)(null),v=Object(p.a)(f,2),g=v[0],_=v[1],C=Object(r.useState)({}),T=Object(p.a)(C,2),w=T[0],N=T[1],L=Object(r.useState)({}),S=Object(p.a)(L,2),k=S[0],M=S[1],P=function(){_(null),D()},D=function(){var e=Object(l.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae();case 2:t=e.sent,_(t),console.log(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){x(null),I()},I=function(){var e=Object(l.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re();case 2:t=e.sent,x(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(e){y(null),A(e)},A=function(){var e=Object(l.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return");case 2:return a(t),e.next=5,te(t);case 5:n=e.sent,y(n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(e){var t=null==k[e.product_address]?1:k[e.product_address]+1;M((function(n){return Object(u.a)(Object(u.a)({},n),{},Object(c.a)({},e.product_address,t))})),N((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(c.a)({},e.product_address,e))}))};return Object(Xe.a)((function(){R(n),P(),E()})),$.events.ProductEvents({fromBlock:"latest"}).on("data",(function(e){return R(n)})),$.events.UserEvents({fromBlock:"latest"}).on("data",(function(e){P(),E()})),Object(Z.jsxs)("div",{className:"app",children:[Object(Z.jsxs)(j.a,{children:[Object(Z.jsx)(U,{onKeywordChange:R,keyword:n}),Object(Z.jsxs)("div",{className:"pages",children:[Object(Z.jsx)(Ye,{}),Object(Z.jsxs)(m.c,{children:[Object(Z.jsxs)(m.a,{path:"/store",children:[" ",Object(Z.jsx)(Ee,{products:g})," "]}),Object(Z.jsxs)(m.a,{path:"/orders",children:[" ",Object(Z.jsx)(Re,{products:O})," "]}),Object(Z.jsxs)(m.a,{path:"/cart",children:[" ",Object(Z.jsx)(Ze,{products:w,productsQuantity:k,addToCart:z,removeFromCart:function(e){var t=null==k[e.product_address]||k[e.product_address]<=1?null:k[e.product_address]-1,n=Object(u.a)({},k),r=Object(u.a)({},w);null==t?(delete n[e.product_address],delete r[e.product_address]):n[e.product_address]=t,M(n),N(r)},clearCart:function(){N({}),M({})}})]}),Object(Z.jsxs)(m.a,{path:"/",children:[" ",Object(Z.jsx)(ye,{products:o,keyword:n,addToCart:z})," "]})]})]})]}),Object(Z.jsx)(Ue,{})]})};i.a.render(Object(Z.jsx)(a.a.StrictMode,{children:Object(Z.jsx)($e,{})}),document.getElementById("root"))}},[[597,1,2]]]);
//# sourceMappingURL=main.831a0234.chunk.js.map